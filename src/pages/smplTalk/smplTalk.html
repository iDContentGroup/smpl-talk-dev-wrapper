<div class="container">
  <svg class="svg-icon block-icon">
    <use xlink:href="#block"></use>
  </svg>
  <div class="logo">
    <img src="https://firebasestorage.googleapis.com/v0/b/ourg-2c585.appspot.com/o/Networks%2FSMPL%2FOrgs%2FSMPL%20Headquarters%2Fcropped%2F-L83sRJBxYDYc-3YIQ_U%2F180118_smpl_talk_app_bannerlogo_black.png?alt=media&token=c11b7068-1dfc-4b08-a982-dd160420da3a">
  </div>
  <div class="error-content">
    <p class="error-description">{{errorDescription}}</p>
    <p class="error-type">{{errorTitle}}</p>
    <div class="more-details">
      <p class="error-options">Still having trouble?</p>
      <ul>
        <li><span>+</span> Clear your cache</li>
        <li><span>+</span> Close and reopen the app</li>
        <li><span>+</span> Click <a [href]="browserUrl || 'https://smpltalk.com/'" target="_blank">here</a> to use the browser version</li>
      </ul>
    </div>
  </div>
  <div class="error-dropdown" (click)='toggleDropdown()'>
    <p>View Advanced Diagnostics</p>
    <svg class="svg-icon normal large arrow">
      <use xlink:href="#arrow_drop_up"></use>
    </svg>
  </div>
  <div *ngIf="this.showDropdown" class="dev-details">
    <svg class="svg-icon large escape" (click)='toggleDropdown()'>
      <use xlink:href="#cancel"></use>
    </svg>
    <pre>{{devDetails}}</pre>
  </div>
</div>

<!-- <ion-content padding> -->
<div>
  <ng-container *ngIf="doDebug">

    <p>test: 52 debug device test ukwevview to debug 2/3 min iOS crash</p>
    <p>{{ options }}</p>

    <button ion-button (click)="focusTest($event)">Focus Test</button>

    <button ion-button secondary (click)="startBrowser()">open smpl talk using inAppBrowser</button>

    <button ion-button secondary (click)="showBrowser()">show browser</button>
    <button ion-button secondary (click)="toggleDebug()">toggleDebug status: {{!doDebug ? 'nope' : 'yup'}}</button>

    <p *ngIf="browser" [style.background]="'grey'">{{ JSON.stringify(browser) }}</p>
    
    <p>nativeAppModeActivated: {{nativeAppModeActivated ? 'yup' : 'nope'}}</p>

    <p>browserLoopActive: {{ browserLoopIsActive ? 'yup' : 'nope' }} {{ browserLoopCount }} | web: {{ webTimestamp }} | native: {{ nativeTimestamp }}</p>
    <p>{{ loggingIn ? 'logging in..' : 'not logging in'}} | {{ loginCount }}</p>
    <p>fbUser: {{ fbUser ? (fbUser.email + ' | ' + fbUser.uid) : 'no fbUser found' }}</p>
    <p>users: {{ !users.length ? ' (none)' : users.length}}</p>
    <p *ngFor="let user of users">{{ user.key }} | {{ user.email }}</p>
    <p>device: {{ device ? JSON.stringify(device) : "(No device)" }}</p>

    <p>errors: {{ !errors.length ? ' (none)' : errors.length}}</p>
    <p *ngFor="let error of errors">{{JSON.stringify(error)}}</p>

    <p>fbUpdates: {{ !fbUpdates.length ? ' (none)' : fbUpdates.length}}</p>
    <p *ngFor="let fbUpdate of fbUpdates">{{JSON.stringify(fbUpdate)}}</p>

    <button ion-button (click)="browserTest()">browserTest</button>
    <button ion-button (click)="browserLoopFunction()">browserLoopFunction once</button>
    <button ion-button (click)="browserLoopFunction(6000)">browserLoopFunction 6000</button>
  </ng-container>
</div>
