{"version":3,"sources":["../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/smplTalk/smplTalk.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,kC;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,kC;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVqE;AACb,iBAAgB;AAEzC;AAE0C;AACd;AACC;AAEN;AACtD,6CAA6C;AAGb;AAMhC;IA0CI,sBAAmB,QAAkB,EAAS,OAAsB,EAAS,GAAiB,EAAU,GAAsB,EACpH,IAAU,EAAU,MAAc,EAAS,IAAU,EAAS,SAA0B,EAAS,YAA0B;QADlH,aAAQ,GAAR,QAAQ,CAAU;QAAS,YAAO,GAAP,OAAO,CAAe;QAAS,QAAG,GAAH,GAAG,CAAc;QAAU,QAAG,GAAH,GAAG,CAAmB;QACpH,SAAI,GAAJ,IAAI,CAAM;QAAU,WAAM,GAAN,MAAM,CAAQ;QAAS,SAAI,GAAJ,IAAI,CAAM;QAAS,cAAS,GAAT,SAAS,CAAiB;QAAS,iBAAY,GAAZ,YAAY,CAAc;QACnI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QAEjB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;IAC5B,CAAC;IAEA,qCAAc,GAAd;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;YACtB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC5B,CAAC;QACD,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;YAC5B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QAC3B,CAAC;IACH,CAAC;IAED,+BAAQ,GAAR;QAAA,iBA2DC;QA1DC,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC1B,IAAI,CAAC,UAAU,GAAG,aAAa,CAAC;QAChC,IAAI,CAAC,gBAAgB,GAAG,uCAAuC,CAAC;QAChE,IAAI,CAAC,UAAU,GAAG,kqDAAkqD;QAEprD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QAEpB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAChB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QAEpB,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC;YACzB,EAAE,CAAC,CAAC,KAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBAChC,KAAI,CAAC,SAAS,EAAE,CAAC;YACnB,CAAC;YAED,KAAI,CAAC,6BAA6B,GAAG,gDAAQ,CAAC,IAAI,EAAE,CAAC,kBAAkB,CAAC,cAAI;gBAC1E,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oBACd,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;wBACT,KAAI,CAAC,UAAU,IAAI,CAAC,CAAC;wBACrB,KAAI,CAAC,KAAK,GAAG,EAAE,CAAC;wBAEhB,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC;wBACnB,KAAI,CAAC,OAAO,IAAI,KAAI,CAAC,KAAK,CAAC,oBAAoB,GAAG,KAAI,CAAC,MAAM,CAAC,GAAG,GAAG,KAAK,GAAG,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;wBAC/F,yHAAyH;wBACzH,gDAAQ,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,YAAY,GAAG,KAAI,CAAC,SAAS,CAAC,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,mBAAS;4BACpG,KAAI,CAAC,KAAK,GAAG,EAAE,CAAC;4BAChB,EAAE,CAAC,CAAC,SAAS,CAAC,MAAM,EAAE,IAAI,SAAS,CAAC,GAAG,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;gCACnD,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,SAAS,CAAC,GAAG,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;oCACvC,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;wCAC/C,WAAW;wCACX,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,SAAS,CAAC,GAAG,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,UAAU,EAAE,GAAG,EAAC,CAAC,CAAC;oCAC3E,CAAC;gCACL,CAAC;4BACH,CAAC;4BACD,gCAAgC;4BAChC,8BAA8B;4BAC9B,4BAA4B;4BAE5B,2BAA2B;4BAC3B,KAAK;wBACP,CAAC,CAAC,CAAC,IAAI,CAAC;4BACN,KAAI,CAAC,OAAO,IAAI,KAAI,CAAC,KAAK,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC;4BAEvC,KAAI,CAAC,oBAAoB,EAAE,CAAC;wBAC9B,CAAC,CAAC,CAAC;wBACH,8CAA8C;oBAChD,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACN,KAAI,CAAC,OAAO,IAAI,KAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC,CAAC;wBAChD,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC;wBACnB,KAAI,CAAC,KAAK,GAAG,EAAE,CAAC;oBAClB,CAAC;oBAED,KAAI,CAAC,YAAY,EAAE,CAAC;gBACtB,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,kCAAW,GAAX;QACE,IAAI,CAAC,OAAO,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC;IAC/B,CAAC;IAEF,mCAAY,GAAZ;QAAA,iBAoGC;QAnGE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YAClB,IAAI,CAAC,UAAU,GAAG,yBAAyB,CAAC;YAC5C,IAAM,MAAM,GAAG,QAAQ,CAAC;YAExB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;YAElB,IAAI,SAAS,GAAG,EAAE,CAAC;YAEnB,SAAS,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC,mDAAkD;YAC3F,SAAS,CAAC,IAAI,CAAC,sCAAsC,CAAC,CAAC,8DAA6D;YACpH,gCAAgC;YAEhC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gBACjB,gEAAgE;gBAChE,SAAS,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,yBAAyB;gBACzD,SAAS,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,0BAAyB;gBAC1D,SAAS,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC,0BAAyB;YACnE,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,gCAA+B;gBAC5D,SAAS,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,yBAAyB;YAC1D,CAAC;YAED,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC1C,IAAI,CAAC,OAAO,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC;gBAC7B,EAAE,CAAC,CAAC,CAAC,KAAK,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;oBAChC,IAAI,CAAC,OAAO,IAAI,GAAG,CAAC;gBACrB,CAAC;YACH,CAAC;YACD,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBAChC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;gBAEtF,oDAAoD;gBACpD,iEAAiE;gBACjE,MAAM;gBAEN,mDAAmD;gBACnD,gEAAgE;gBAChE,MAAM;gBAEN,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,eAAK;oBAC1C,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC;wBACd,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC;wBACpB,KAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;wBACpB,2BAA2B;wBAC3B,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,yBAAyB,EAAE,KAAK,EAAE,KAAK,EAAC,CAAC,CAAC;oBACnE,CAAC,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC;gBAEH,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,eAAK;oBACrC,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC;wBACd,2BAA2B;wBAC3B,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,oBAAoB,EAAE,KAAK,EAAE,KAAK,EAAC,CAAC,CAAC;wBAE5D,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC;oBACtB,CAAC,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC;gBAEH,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,eAAK;oBAC1C,0BAA0B;oBAC1B,8FAA8F;oBAC9F,qGAAqG;oBAErG,gCAAgC;oBAEhC,wCAAwC;oBACxC,qCAAqC;oBACrC,uCAAuC;oBACvC,qCAAqC;oBACrC,MAAM;oBACN,MAAM;gBACR,CAAC,CAAC,CAAC;gBAEH,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,eAAK;oBACzC,KAAI,CAAC,OAAO,IAAI,KAAI,CAAC,KAAK,CAAC,iBAAiB,EAAE,QAAQ,CAAC,CAAC;oBACxD,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC;wBACd,4BAA4B;wBAC5B,uBAAuB;wBAEvB,EAAE,CAAC,CAAC,CAAC,KAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC;4BAC9B,KAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;4BAChC,KAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC;wBAChC,CAAC;oBACH,CAAC,CAAC,CAAC;oBACH,+BAA+B;oBAC/B,mFAAmF;oBACnF,iBAAiB;oBACjB,4BAA4B;oBAC5B,sCAAsC;oBAEtC,4BAA4B;oBAC5B,yFAAyF;oBACzF,6BAA6B;oBAC7B,kCAAkC;oBAClC,QAAQ;oBACR,QAAQ;oBACR,MAAM;gBACR,CAAC,CAAC,CAAC;YACL,CAAC;QACH,CAAC;IACJ,CAAC;IAEA,kCAAW,GAAX;QACE,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;IACtC,CAAC;IAED,0CAAmB,GAAnB,UAAoB,KAAc;QAAlC,iBAmDC;QAlDC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;YACd,KAAI,CAAC,OAAO,IAAI,KAAI,CAAC,KAAK,CAAC,qBAAqB,CAAC,CAAC;YAElD,KAAI,CAAC,gBAAgB,GAAG,CAAC,KAAI,CAAC,gBAAgB,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;YAEzD,KAAI,CAAC,eAAe,GAAG,KAAI,CAAC,aAAa,EAAE,CAAC;YAC5C,MAAM,CAAC,KAAI,CAAC,4BAA4B,EAAE,CAAC,IAAI,CAAC,gBAAM;gBACpD,UAAU;YACZ,CAAC,CAAC,CAAC,IAAI,CAAC;gBACN,MAAM,CAAC,KAAI,CAAC,wBAAwB,EAAE,CAAC,IAAI,CAAC,gBAAM;oBAChD,UAAU;gBACZ,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC,IAAI,CAAC;gBACN,MAAM,CAAC,KAAI,CAAC,yBAAyB,EAAE,CAAC,IAAI,CAAC,gBAAM;oBACjD,UAAU;gBACZ,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC,IAAI,CAAC;gBACN,MAAM,CAAC,KAAI,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,gBAAM;oBACrC,UAAU;gBACZ,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC,IAAI,CAAC;gBACN,MAAM,CAAC,KAAI,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,gBAAM;oBACnC,EAAE,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC,MAAM,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;wBACzC,MAAM,CAAC,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC;4BAChC,IAAI,EAAE,mIAAmI,GAAG,IAAI,CAAC,SAAS,CAAC,EAAC,GAAG,EAAE,OAAO,EAAE,KAAK,EAAE,KAAI,CAAC,aAAa,EAAE,GAAG,QAAQ,EAAE,CAAC,GAAG,IAAI;yBAC3N,CAAC,CAAC;oBACL,CAAC;gBACH,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC,IAAI,CAAC;gBACN,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;oBACV,KAAI,CAAC,qBAAqB,GAAG,UAAU,CAAC;wBACtC,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC;4BACd,KAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;wBAClC,CAAC,CAAC,CAAC;oBACL,CAAC,EAAE,KAAK,CAAC,CAAC;gBACZ,CAAC;YACH,CAAC,CAAC,CAAC,KAAK,CAAC,eAAK;gBACZ,KAAI,CAAC,OAAO,IAAI,KAAI,CAAC,KAAK,CAAC,sCAAsC,CAAC,CAAC;gBACnE,2BAA2B;gBAC3B,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,oBAAoB,EAAE,KAAK,EAAE,KAAK,EAAC,CAAC,CAAC;gBAE5D,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;oBACV,KAAI,CAAC,qBAAqB,GAAG,UAAU,CAAC;wBACtC,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC;4BACd,KAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;wBAClC,CAAC,CAAC,CAAC;oBACL,CAAC,EAAE,KAAK,CAAC,CAAC;gBACZ,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,uCAAgB,GAAhB;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC;YAC7B,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;YACjC,YAAY,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;QAC3C,CAAC;IACH,CAAC;IAED,kCAAW,GAAX;QAAA,iBAeC;QAdC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YACjC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;gBAChC,IAAI,EAAE,mIAAmI,GAAG,IAAI,CAAC,SAAS,CAAC,EAAC,GAAG,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,aAAa,EAAE,GAAG,OAAO,EAAC,CAAC,GAAG,IAAI;aACxN,CAAC,CAAC,IAAI,CAAC,gBAAM;gBACZ,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,aAAa,EAAE,CAAC;gBACzC,MAAM,CAAC,MAAM,CAAC;YAChB,CAAC,CAAC,CAAC,KAAK,CAAC,eAAK;gBACZ,2BAA2B;gBAC3B,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,cAAc,EAAE,KAAK,EAAE,KAAK,EAAC,CAAC,CAAC;gBACtD,MAAM,CAAC,IAAI,CAAC;YACd,CAAC,CAAC,CAAC;QACL,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAC/B,CAAC;IACH,CAAC;IAED,mDAA4B,GAA5B;QAAA,iBAiBC;QAhBC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,KAAK,CAAC,8BAA8B,CAAC,CAAC;QAC3D,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC;YACjD,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;gBAChC,IAAI,EAAE,yJAAyJ;aAChK,CAAC,CAAC,IAAI,CAAC,gBAAM;gBACZ,KAAI,CAAC,OAAO,IAAI,KAAI,CAAC,KAAK,CAAC,2BAA2B,CAAC,CAAC;gBACxD,KAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;YACrC,CAAC,CAAC,CAAC,KAAK,CAAC,eAAK;gBACZ,2BAA2B;gBAC3B,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,gCAAgC,EAAE,KAAK,EAAE,KAAK,EAAC,CAAC,CAAC;gBAExE,MAAM,CAAC,IAAI,CAAC;YACd,CAAC,CAAC,CAAC;QACL,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAC/B,CAAC;IACH,CAAC;IAED,+CAAwB,GAAxB;QAAA,iBAkCC;QAjCC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC;YAChD,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;gBAChC,IAAI,EAAE,2CAA2C;aAClD,CAAC,CAAC,IAAI,CAAC,gBAAM;gBACZ,EAAE,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC,MAAM,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACzC,MAAM,CAAC,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC,EAAE,IAAI,EAAE,gDAAgD,EAAE,CAAC,CAAC,IAAI,CAAC;wBACjG,KAAI,CAAC,KAAK,GAAG,EAAE,CAAC;wBAChB,MAAM,CAAC,KAAI,CAAC,oBAAoB,EAAE,CAAC,IAAI,CAAC,gBAAM;4BAC5C,8BAA8B;wBAChC,CAAC,CAAC,CAAC,IAAI,CAAC;4BACN,MAAM,CAAC,KAAI,CAAC,eAAe,EAAE,CAAC,IAAI,CAAC,gBAAM;gCACvC,8BAA8B;4BAChC,CAAC,CAAC,CAAC;wBACL,CAAC,CAAC,CAAC,IAAI,CAAC;4BACN,EAAE,CAAC,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gCACjB,MAAM,CAAC,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC;oCAChC,IAAI,EAAE,mIAAmI,GAAG,IAAI,CAAC,SAAS,CAAC,EAAC,GAAG,EAAE,eAAe,EAAE,KAAK,EAAE,KAAI,CAAC,aAAa,EAAE,GAAG,uBAAuB,EAAE,CAAC,GAAG,IAAI;iCAClP,CAAC,CAAC;4BACL,CAAC;4BAAC,IAAI,CAAC,CAAC;gCACN,MAAM,CAAC,IAAI,CAAC;4BACd,CAAC;wBACH,CAAC,CAAC,CAAC;wBAAA,CAAC;oBACN,CAAC,CAAC,CAAC;gBACL,CAAC;YACH,CAAC,CAAC,CAAC,KAAK,CAAC,eAAK;gBACZ,2BAA2B;gBAC3B,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,iBAAiB,EAAE,KAAK,EAAE,KAAK,EAAC,CAAC,CAAC;gBAEzD,MAAM,CAAC,IAAI,CAAC;YACd,CAAC,CAAC,CAAC;QACL,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAC/B,CAAC;IACH,CAAC;IAED,gDAAyB,GAAzB;QAAA,iBAgEC;QA/DC,0BAA0B,GAAG;YAC3B,6EAA6E;YAC7E,MAAM,CAAC,kBAAkB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,UAAS,CAAC;gBACxD,MAAM,CAAC,GAAG,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YACjE,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;QACf,CAAC;QAED,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC;YAChD,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;gBAChC,IAAI,EAAE,kDAAkD;aACzD,CAAC,CAAC,IAAI,CAAC,gBAAM;gBACZ,IAAI,iBAAiB,GAAG,MAAM,IAAI,MAAM,CAAC,MAAM,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC;gBAC7D,EAAE,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC;oBACtB,EAAE,CAAC,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC,CAAC;wBACnB,MAAM,CAAC,KAAI,CAAC,mBAAmB,EAAE,CAAC;oBACpC,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACN,sBAAsB;wBACtB,IAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;wBAE9E,EAAE,CAAC,CAAC,KAAI,CAAC,MAAM,IAAI,KAAI,CAAC,MAAM,CAAC,KAAK,IAAI,KAAI,CAAC,MAAM,CAAC,KAAK,KAAK,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;4BAC5E,8EAA8E;4BAC9E,KAAI,CAAC,OAAO,IAAI,KAAI,CAAC,KAAK,CAAC,mCAAmC,CAAC,CAAC;wBAClE,CAAC;wBAAC,IAAI,CAAC,CAAC;4BACN,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC;4BACtB,kDAAkD;4BAClD,IAAI,uCAAuC,GAAG,KAAI,CAAC,2BAA2B,CAAC,iBAAiB,CAAC,CAAC,SAAS,CAAC,cAAI;gCAC9G,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oCACd,KAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;gCACnC,CAAC,CAAC,CAAC;4BACL,CAAC,EAAE,eAAK;gCACN,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oCACd,KAAI,CAAC,OAAO,IAAI,KAAI,CAAC,KAAK,CAAC,qFAAqF,CAAC,CAAC;oCAClH,uCAAuC,CAAC,WAAW,EAAE,CAAC;oCACtD,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gCACzB,CAAC,CAAC,CAAC;4BACL,CAAC,EAAE;gCACD,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC;oCACd,uCAAuC,CAAC,WAAW,EAAE,CAAC;oCACtD,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gCACzB,CAAC,CAAC,CAAC;4BACL,CAAC,CAAC,CAAC;wBACL,CAAC;wBAED,MAAM,CAAC,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC,EAAE,IAAI,EAAE,uDAAuD,EAAE,CAAC,CAAC,IAAI,CAAC;4BACxG,EAAE,CAAC,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC,CAAC;gCACjB,MAAM,CAAC,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC;oCAChC,IAAI,EAAE,mIAAmI,GAAG,IAAI,CAAC,SAAS,CAAC,EAAC,GAAG,EAAE,cAAc,EAAE,KAAK,EAAE,KAAI,CAAC,aAAa,EAAE,GAAG,sBAAsB,EAAC,CAAC,GAAG,IAAI;iCAC/O,CAAC,CAAC;4BACL,CAAC;4BAAC,IAAI,CAAC,CAAC;gCACN,MAAM,CAAC,IAAI,CAAC;4BACd,CAAC;wBACH,CAAC,CAAC,CAAC;oBACL,CAAC;gBACH,CAAC;YACH,CAAC,CAAC,CAAC,KAAK,CAAC,eAAK;gBACZ,2BAA2B;gBAC3B,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,uBAAuB,EAAE,KAAK,EAAE,KAAK,EAAC,CAAC,CAAC;gBAE/D,MAAM,CAAC,IAAI,CAAC;YACd,CAAC,CAAC,CAAC;QACL,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAC/B,CAAC;IACH,CAAC;IAED,oCAAa,GAAb;QAAA,iBAwBC;QAvBC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;QAC5C,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAChC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;gBAChC,IAAI,EAAE,qIAAqI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI;aACjL,CAAC,CAAC,IAAI,CAAC,gBAAM;gBACZ,EAAE,CAAC,CAAC,KAAI,CAAC,MAAM,CAAC,MAAM,KAAK,MAAM,CAAC,CAAC,CAAC;oBAClC,EAAE,CAAC,CAAC,KAAI,CAAC,MAAM,CAAC,OAAO,IAAI,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;wBAChD,KAAI,CAAC,UAAU,GAAG,sCAAsC,GAAG,KAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,GAAG,GAAG,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC;oBAC9G,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACN,KAAI,CAAC,UAAU,GAAG,uBAAuB,CAAC;oBAC5C,CAAC;gBACH,CAAC;gBACD,KAAI,CAAC,OAAO,IAAI,KAAI,CAAC,KAAK,CAAC,2BAA2B,CAAC,CAAC;gBACxD,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YACrB,CAAC,CAAC,CAAC,KAAK,CAAC,eAAK;gBACZ,2BAA2B;gBAC3B,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,iBAAiB,EAAE,KAAK,EAAE,KAAK,EAAC,CAAC,CAAC;gBAEzD,MAAM,CAAC,IAAI,CAAC;YACd,CAAC,CAAC,CAAC;QACL,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAC/B,CAAC;IACH,CAAC;IAED,0CAAmB,GAAnB;QAAA,iBAqBC;QApBC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YACjB,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;gBAChC,IAAI,EAAE,8CAA8C;aACrD,CAAC,CAAC,IAAI,CAAC;gBACN,EAAE,CAAC,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC,CAAC;oBACjB,MAAM,CAAC,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC;wBAChC,IAAI,EAAE,mJAAmJ;qBAC1J,CAAC,CAAC;gBACL,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,MAAM,CAAC,IAAI,CAAC;gBACd,CAAC;YACH,CAAC,CAAC,CAAC,KAAK,CAAC,eAAK;gBACZ,2BAA2B;gBAC3B,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,yBAAyB,EAAE,KAAK,EAAE,KAAK,EAAC,CAAC,CAAC;gBAEjE,MAAM,CAAC,IAAI,CAAC;YACd,CAAC,CAAC,CAAC;QACL,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAC/B,CAAC;IACH,CAAC;IAED,kDAA2B,GAA3B,UAA4B,OAAY;QACtC,IAAI,GAAG,GAAG,uFAAuF,CAAC;QAClG,IAAI,OAAO,GAAG,IAAI,8DAAO,EAAE,CAAC;QAE5B,OAAO,CAAC,MAAM,CAAC,eAAe,EAAE,SAAS,GAAG,OAAO,CAAC,CAAC;QAErD,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,EAAC,OAAO,EAAE,OAAO,EAAC,CAAC,CAAC,GAAG,CAAC,UAAC,GAAa,IAAK,UAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC,CAAC;IACnF,CAAC;IAED,4CAAqB,GAArB,UAAsB,KAAU;QAAhC,iBA2BC;QA1BC,MAAM,CAAC,gDAAQ,CAAC,IAAI,EAAE,CAAC,qBAAqB,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,cAAI;YAC3D,yEAAyE;QAC3E,CAAC,CAAC,CAAC,KAAK,CAAC,eAAK;YACZ,sBAAsB;YACtB,IAAI,YAAoB,CAAC;YAEzB,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;gBACf,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,KAAK,4BAA4B,CAAC,CAAC,CAAC;oBAChD,YAAY,GAAG,8BAA8B,CAAC;gBAChD,CAAC;gBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,KAAK,2BAA2B,CAAC,CAAC,CAAC;oBACtD,YAAY,GAAG,2BAA2B,CAAC;gBAC7C,CAAC;YACH,CAAC;YAED,YAAY,GAAG,YAAY,IAAI,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC;YAEtD,6BAA6B;YAC7B,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,KAAI,CAAC,OAAO,IAAI,KAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;YAEzC,2BAA2B;YACzB,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,kBAAkB,EAAE,KAAK,EAAE,KAAK,EAAC,CAAC,CAAC;YAG5D,MAAM,CAAC,KAAI,CAAC,mBAAmB,EAAE,CAAC;QACpC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,sCAAe,GAAf;QAAA,iBAMC;QALC,MAAM,CAAC,gDAAQ,CAAC,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;QACtC,CAAC,EAAE,eAAK;YACN,2BAA2B;YACzB,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,mBAAmB,EAAE,KAAK,EAAE,KAAK,EAAC,CAAC,CAAC;QAC/D,CAAC,CAAC,CAAC;IACL,CAAC;IAED,gCAAS,GAAT;QAAA,iBA4FC;QA3FC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;QACxC,sDAAsD;QAEtD,iCAAiC;QACjC,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,UAAC,GAAQ;YACtC,EAAE,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;gBAClB,KAAI,CAAC,OAAO,IAAI,KAAI,CAAC,KAAK,CAAC,+CAA+C,CAAC,CAAC;YAC9E,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,KAAI,CAAC,OAAO,IAAI,KAAI,CAAC,KAAK,CAAC,sDAAsD,CAAC,CAAC;YACrF,CAAC;QACH,CAAC,CAAC,CAAC,KAAK,CAAC,eAAK;YACZ,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,WAAW,EAAE,KAAK,EAAE,KAAK,EAAC,CAAC,CAAC;QACrD,CAAC,CAAC,CAAC;QAEH,mCAAmC;QACnC,iCAAiC;QACjC,IAAM,OAAO,GAAQ;YAClB,OAAO,EAAE;gBACP,gBAAgB;gBAChB,IAAI,EAAE,sBAAsB;gBAC5B,SAAS,EAAE,SAAS;gBACpB,OAAO,EAAE,MAAM;gBACf,sBAAsB;gBACtB,6BAA6B;gBAC7B,oBAAoB;gBACpB,iBAAiB;gBACjB,eAAe;gBACf,KAAK,EAAE,MAAM;gBACb,eAAe;gBACf,KAAK,EAAE,MAAM;aACd;YACD,GAAG,EAAE;gBACD,KAAK,EAAE,MAAM;gBACb,KAAK,EAAE,IAAI;gBACX,KAAK,EAAE,MAAM;gBACb,UAAU,EAAE,IAAI;aACnB;YACD,OAAO,EAAE,EAAE;YACX,OAAO,EAAE;gBACN,cAAc,EAAE,sCAAsC;aACxD;SACH,CAAC;QAEF,IAAM,UAAU,GAAe,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAEvD,UAAU,CAAC,EAAE,CAAC,cAAc,CAAC,CAAC,SAAS,CAAC,UAAC,YAAiB;YACxD,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC;gBACd,KAAI,CAAC,OAAO,IAAI,KAAI,CAAC,KAAK,CAAC,yBAAyB,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,CAAC;gBACrF,aAAa;gBAEb,4BAA4B;gBAC5B,EAAE,CAAC,CAAC,YAAY,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,CAAC;gBAE7C,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,IAAI,OAAO,GAAG,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC;oBAClD,IAAI,OAAO,GAAG,YAAY,CAAC,cAAc,CAAC,OAAO,CAAC;oBAClD,IAAI,QAAQ,GAAG,YAAY,CAAC,cAAc,CAAC,QAAQ,CAAC;oBACpD,IAAI,UAAU,GAAG,YAAY,CAAC,cAAc,CAAC,UAAU,CAAC;oBAExD,KAAI,CAAC,MAAM,GAAG,EAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,UAAU,EAAE,UAAU,EAAC,CAAC;oBAE/F,KAAI,CAAC,OAAO,IAAI,KAAI,CAAC,OAAO,IAAI,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC;wBACzD,IAAI,EAAE,mIAAmI,GAAG,IAAI,CAAC,SAAS,CAAC,EAAC,GAAG,EAAE,cAAc,EAAE,KAAK,EAAE,YAAY,EAAC,CAAC,GAAG,IAAI;qBAC9M,CAAC,CAAC;gBACL,CAAC;gBAED,kCAAkC;gBAClC,gCAAgC;gBAChC,0BAA0B;gBAC1B,OAAO;YACT,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,UAAU,CAAC,EAAE,CAAC,cAAc,CAAC,CAAC,SAAS,CAAC,UAAC,YAAiB;YACxD,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC;gBACd,KAAI,CAAC,OAAO,IAAI,KAAI,CAAC,KAAK,CAAC,mBAAmB,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,CAAC;gBAE/E,wCAAwC;gBACxC,KAAI,CAAC,MAAM,GAAG,YAAY,CAAC;gBAE3B,KAAI,CAAC,oBAAoB,EAAE,CAAC;YAC9B,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,UAAU,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,eAAK;YACpC,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC;gBACd,KAAI,CAAC,OAAO,IAAI,KAAI,CAAC,KAAK,CAAC,wBAAwB,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;gBAC7E,kBAAkB;gBAClB,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,gBAAgB,EAAE,KAAK,EAAE,KAAK,EAAC,CAAC,CAAC;YAC1D,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,2CAAoB,GAApB;QAAA,iBA8DC;QA7DC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC;YAChE,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAC/B,CAAC;QAED,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,KAAK,CAAC,sBAAsB,CAAC,CAAC;QAEnD,IAAI,OAAO,GAAG,EAAE,CAAC;QAEjB,IAAI,YAAY,GAAG,OAAO,CAAC;QAC3B,IAAI,cAAc,GAAG,SAAS,CAAC;QAE/B,MAAM,CAAC,gDAAQ,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,4BAA4B,GAAG,IAAI,CAAC,MAAM,CAAC,cAAc,GAAG,QAAQ,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,uBAAa;YACnI,aAAa,CAAC,OAAO,CAAC,sBAAY;gBAChC,IAAI,KAAK,GAAG,KAAK,CAAC;gBAElB,EAAE,CAAC,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC,CAAC;oBACf,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAC3C,EAAE,CAAC,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC;4BAC3C,KAAK,GAAG,IAAI,CAAC;4BACb,KAAK,CAAC;wBACR,CAAC;oBACH,CAAC;gBACH,CAAC;gBAED,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;oBACX,yCAAyC;oBACzC,OAAO,CAAC,YAAY,GAAG,GAAG,GAAG,YAAY,CAAC,GAAG,GAAG,WAAW,GAAG,KAAI,CAAC,MAAM,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC;oBACjG,OAAO,CAAC,cAAc,GAAG,GAAG,GAAG,KAAI,CAAC,MAAM,CAAC,cAAc,GAAG,SAAS,GAAG,YAAY,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;gBACnG,CAAC;YACH,CAAC,CAAC;QACJ,CAAC,CAAC,CAAC,IAAI,CAAC;YACN,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC3C,IAAI,IAAI,GAAG,KAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACzB,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;gBAErB,OAAO,CAAC,YAAY,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,WAAW,GAAG,KAAI,CAAC,MAAM,CAAC,cAAc,CAAC,GAAG,GAAG,CAAC;gBACxF,OAAO,CAAC,cAAc,GAAG,GAAG,GAAG,KAAI,CAAC,MAAM,CAAC,cAAc,GAAG,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;YAC1F,CAAC;YAED,KAAI,CAAC,OAAO,IAAI,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;YACpD,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAE7B,MAAM,CAAC,gDAAQ,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC;gBACxE,KAAI,CAAC,OAAO,IAAI,KAAI,CAAC,KAAK,CAAC,uCAAuC,CAAC,CAAC;YACtE,CAAC,CAAC,CAAC,KAAK,CAAC,eAAK;gBACZ,KAAI,CAAC,OAAO,IAAI,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBAClC,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,yBAAyB,EAAE,KAAK,EAAE,KAAK,EAAC,CAAC,CAAC;YACnE,CAAC,CAAC,CAAC,IAAI,CAAC;gBACN,EAAE,CAAC,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC,CAAC;oBACjB,MAAM,CAAC,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC;wBAChC,IAAI,EAAE,mIAAmI,GAAG,IAAI,CAAC,SAAS,CAAC,EAAC,GAAG,EAAE,sBAAsB,EAAE,KAAK,EAAE,KAAI,CAAC,aAAa,EAAE,GAAG,sBAAsB,EAAC,CAAC,GAAG,IAAI;qBACvP,CAAC,CAAC;gBACL,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,MAAM,CAAC,IAAI,CAAC;gBACd,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC,KAAK,CAAC,eAAK;YACZ,KAAI,CAAC,OAAO,IAAI,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YAClC,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,qBAAqB,EAAE,KAAK,EAAE,KAAK,EAAC,CAAC,CAAC;YAC7D,MAAM,CAAC,IAAI,CAAC;QACd,CAAC,CAAC,CAAC;IACL,CAAC;IAED,4BAAK,GAAL,UAAM,OAAY,EAAE,QAAiB;QACnC,kCAAkC;QAClC,MAAM,CAAC;QACP,qCAAqC;QAErC,sCAAsC;QACtC,sBAAsB;QACtB,oBAAoB;QACpB,gCAAgC;QAChC,MAAM;QAEN,gCAAgC;QAChC,uCAAuC;QACvC,SAAS;QAET,mBAAmB;IACrB,CAAC;IAED,oCAAa,GAAb,UAAc,SAAkB;QAC9B,IAAI,CAAC,CAAC;QAEN,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;YACd,CAAC,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC;QAC1B,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,CAAC,GAAG,IAAI,IAAI,EAAE,CAAC;QACjB,CAAC;QAED,iHAAiH;QACjH,8BAA8B;QAC9B,MAAM,CAAC,CAAC,CAAC,cAAc,EAAE;YACvB,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACvC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,UAAU,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACtC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACvC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,aAAa,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACzC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,aAAa,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACzC,GAAG,GAAG,CAAC,CAAC,CAAC,kBAAkB,EAAE,GAAG,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACjE,CAAC;IAED,2BAA2B;IAC7B,kKAAkK;IAClK,IAAI;IAEJ,2BAA2B;IAC3B,mKAAmK;IACnK,IAAI;IAEJ,gCAAS,GAAT,UAAU,GAAW;QACnB,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;IACvK,CAAC;IAED,gCAAS,GAAT,UAAU,GAAW;QACnB,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;IACvK,CAAC;IA7tBU,YAAY;QAJxB,wEAAS,CAAC;YACT,QAAQ,EAAE,gBAAgB;WACI;SAC/B,CAAC;gRA2C+B,EAAQ,iFAAkB,EAAuE;YAC9G,IAAI,EAAkB,GAA+F;OA3C5H,YAAY,CA8tBxB;IAAD,CAAC;AAAA;SA9tBY,YAAY,e;;;;;;;;;;;ACnBkD;AAElC;AAEzC,yGAAsB,EAAE,CAAC,eAAe,CAAC,8DAAS,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJM;AACf;AACY;AACkB;AAEjC;AACkB;AAEL;AACM;AAEC;AAE5D,sEAAsE;AAC5B;AAEV;AAChC,wCAAwC;AAExC,IAAM,cAAc,GAAG;IACnB,MAAM,EAAE,yCAAyC;IACjD,UAAU,EAAE,4BAA4B;IACxC,WAAW,EAAE,mCAAmC;IAChD,SAAS,EAAE,YAAY;IACvB,aAAa,EAAE,wBAAwB;IACvC,iBAAiB,EAAE,cAAc;CACpC,CAAC;AAEF,iDAAQ,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;AA8BvC;IAAA;IAAwB,CAAC;IAAZ,SAAS;QA5BrB,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,6DAAK;gBACL,8EAAY;aACb;YACD,OAAO,EAAE;gBACP,gFAAa;gBACb,iEAAU;gBACV,kEAAW,CAAC,OAAO,CAAC,6DAAK,EAAE,EAAE,EACjC;oBACE,KAAK,EAAE,EAEN;iBACF,CAAC;aACC;YACD,SAAS,EAAE,CAAC,+DAAQ,CAAC;YACrB,eAAe,EAAE;gBACf,6DAAK;gBACL,8EAAY;aACb;YACD,SAAS,EAAE;gBACT,2EAAS;gBACT,iFAAY;gBACZ,kFAAY;gBACZ,gEAAI;gBACJ,EAAC,OAAO,EAAE,mEAAY,EAAE,QAAQ,EAAE,wEAAiB,EAAC;aACrD;SACF,CAAC;OACW,SAAS,CAAG;IAAD,gBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;AC1D+B;AACP;AACO;AACM;AAED;AAO1D;IAUE,eAAmB,QAAkB,EAAS,SAAoB,EAAS,YAA0B;QAAlF,aAAQ,GAAR,QAAQ,CAAU;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,iBAAY,GAAZ,YAAY,CAAc;QAPrG,aAAQ,GAAQ,8EAAY,CAAC;QAQ3B,IAAI,CAAC,aAAa,EAAE,CAAC;QAErB,IAAI,CAAC,KAAK,GAAG;YACX,EAAE,KAAK,EAAE,WAAW,EAAE,SAAS,EAAE,8EAAY,EAAE;SAChD,CAAC;IACJ,CAAC;IAED,wBAAQ,GAAR;IACA,CAAC;IAED,6BAAa,GAAb;QAAA,iBAIC;QAHC,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC;YACzB,KAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;QAChC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,wBAAQ,GAAR,UAAS,IAAI;QACX,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACnC,CAAC;IA5Be;QAAf,yEAAS,CAAC,0DAAG,CAAC;kCAAM,0DAAG;sCAAC;IADd,KAAK;QAHjB,wEAAS,CAAC;WACc;SACxB,CAAC;cAWqG;OAV1F,KAAK,CA8BjB;IAAD,CAAC;AAAA;SA9BY,KAAK,2B","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 150;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 150\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 193;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 193\n// module chunks = 0","import { Component, ChangeDetectorRef, NgZone } from '@angular/core';\r\nimport { Http, Response, Headers } from '@angular/http';//RequestOptions\r\n\r\nimport 'rxjs/add/operator/map';\r\n\r\nimport { NavController, Platform, ToastController } from 'ionic-angular';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\r\n\r\nimport { Push, PushObject } from '@ionic-native/push';\r\n// import { Push } from '@ionic-native/push';\r\n\r\n\r\nimport firebase from 'firebase';\r\n\r\n@Component({\r\n  selector: 'page-smpl-talk',\r\n  templateUrl: './smplTalk.html'\r\n})\r\nexport class SmplTalkPage {\r\n    options: string;\r\n\r\n    loadstopEvents: any;\r\n\r\n    JSON: any;\r\n    browser: any;\r\n\r\n    doDebug: boolean;//for debug\r\n\r\n    browserLoopSetTimeout: any;\r\n    browserLoopIsActive: boolean;\r\n\r\n    webTimestamp: string;//for debug\r\n    nativeTimestamp: string;//for debug\r\n\r\n    loggingIn: boolean;\r\n    loginCount: number;//for debug\r\n    unsubscribeOnAuthStateChanged: any;\r\n\r\n    users: any;\r\n    fbUser: any;\r\n\r\n    device: any;\r\n\r\n    webNav: any;\r\n    nativeAppModeActivated: boolean;\r\n\r\n    errors: any[];\r\n\r\n    fbUpdates: any[];\r\n\r\n    browserLoopCount: number;\r\n\r\n    showDropdown: boolean;\r\n    arrowDirection: string;\r\n    errorTitle: string;\r\n    errorDescription: string;\r\n    devDetails: string;\r\n\r\n    browserUrl: string;\r\n\r\n    constructor(public platform: Platform, public navCtrl: NavController, public iab: InAppBrowser, private ref: ChangeDetectorRef, \r\n      private http: Http, private ngZone: NgZone, public push: Push, public toastCtrl: ToastController, public splashScreen: SplashScreen) {\r\n      this.JSON = JSON;\r\n      this.http = http;\r\n\r\n      this.loadstopEvents = [];\r\n  \t}\r\n\r\n    toggleDropdown(){\r\n      if (this.showDropdown) {\r\n        this.showDropdown = false;\r\n      }\r\n      else if (!this.showDropdown) {\r\n        this.showDropdown = true;\r\n      }\r\n    }\r\n\r\n    ngOnInit() {\r\n      this.showDropdown = false;\r\n      this.errorTitle = 'Error -1200';\r\n      this.errorDescription = \"Please check your internet connection\";\r\n      this.devDetails = \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis eu pulvinar lorem. Sed mi elit, bibendum vel ullamcorper in, bibendum eget sem. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis eu pulvinar lorem. Sed mi elit, bibendum vel ullamcorper in, bibendum eget sem.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis eu pulvinar lorem. Sed mi elit, bibendum vel ullamcorper in, bibendum eget sem.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis eu pulvinar lorem. Sed mi elit, bibendum vel ullamcorper in, bibendum eget sem. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis eu pulvinar lorem. Sed mi elit, bibendum vel ullamcorper in, bibendum eget sem.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis eu pulvinar lorem. Sed mi elit, bibendum vel ullamcorper in, bibendum eget sem.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis eu pulvinar lorem. Sed mi elit, bibendum vel ullamcorper in, bibendum eget sem. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis eu pulvinar lorem. Sed mi elit, bibendum vel ullamcorper in, bibendum eget sem.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis eu pulvinar lorem. Sed mi elit, bibendum vel ullamcorper in, bibendum eget sem.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis eu pulvinar lorem. Sed mi elit, bibendum vel ullamcorper in, bibendum eget sem. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis eu pulvinar lorem. Sed mi elit, bibendum vel ullamcorper in, bibendum eget sem.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis eu pulvinar lorem. Sed mi elit, bibendum vel ullamcorper in, bibendum eget sem.\"\r\n      \r\n      this.doDebug = true;\r\n\r\n      this.errors = [];\r\n      this.fbUpdates = [];\r\n      this.users = [];\r\n      this.loginCount = 0;\r\n\r\n      this.platform.ready().then(() => {\r\n        if (this.platform.is('cordova')) {\r\n          this.setupPush();\r\n        }\r\n\r\n        this.unsubscribeOnAuthStateChanged = firebase.auth().onAuthStateChanged(user => {\r\n          this.ngZone.run(() => {\r\n            if (user) {\r\n              this.loginCount += 1;\r\n              this.users = [];\r\n\r\n              this.fbUser = user;\r\n              this.doDebug && this.toast('native logged in: ' + this.fbUser.uid + \" | \" + this.fbUser.email);\r\n              // firebase.database().ref(\"UsersRef/\").orderByChild('email').equalTo(this.fbUser.email).once('value').then(usersRef => {\r\n              firebase.database().ref(\"EmailsRef/\" + this.encodeKey(this.fbUser.email)).once('value').then(emailsRef => {\r\n                this.users = [];\r\n                if (emailsRef.exists() && emailsRef.val().Networks) {\r\n                  for (var key in emailsRef.val().Networks) {\r\n                      if (emailsRef.val().Networks.hasOwnProperty(key)) {\r\n                          // do stuff\r\n                          this.users.push({key: emailsRef.val().Networks[key], networkKey: key});\r\n                      }\r\n                  }\r\n                }\r\n                // usersRef.forEach(userRef => {\r\n                //   var user = userRef.val();\r\n                //   user.key = userRef.key;\r\n\r\n                //   this.users.push(user);\r\n                // })\r\n              }).then(() => {\r\n                this.doDebug && this.toast(this.users);\r\n\r\n                this.setDeviceUserPairing();\r\n              });\r\n              // TODO: do some stuff with push notifications\r\n            } else {\r\n              this.doDebug && this.toast(\"native logged out\");\r\n              this.fbUser = null;\r\n              this.users = [];\r\n            }\r\n            \r\n            this.startBrowser();\r\n          });\r\n        });\r\n      });\r\n    }\r\n\r\n    toggleDebug() {\r\n      this.doDebug = !this.doDebug;\r\n    }\r\n\r\n  \tstartBrowser() {\r\n      if (!this.browser) {\r\n        this.browserUrl = 'https://smpltalk.com/#/';\r\n        const target = '_blank';\r\n\r\n        this.options = '';\r\n\r\n        var optionAry = [];\r\n\r\n        optionAry.push(\"disallowoverscroll=yes\");//(iOS) Turns on/off the UIWebViewBounce property.\r\n        optionAry.push(\"keyboardDisplayRequiresUserAction=no\");// (iOS) Should take care of ios not allowing focus on inputs\r\n        // optionAry.push(\"hidden=yes\");\r\n        \r\n        if (this.doDebug) {\r\n          // optionAry.push(\"toolbar=yes\");// (iOS) Should be testing only\r\n          optionAry.push(\"location=yes\"); // Should be testing only\r\n          optionAry.push(\"clearcache=yes\");// Should be testing only\r\n          optionAry.push(\"clearsessioncache=yes\");// Should be testing only\r\n        } else {\r\n          optionAry.push(\"toolbar=no\");// (iOS) Should be testing only\r\n          optionAry.push(\"location=no\"); // Should be testing only\r\n        }\r\n\r\n        for (var i = 0; i < optionAry.length; i++) {\r\n          this.options += optionAry[i];\r\n          if (i !== optionAry.length - 1) {\r\n           this.options += \",\";\r\n          }\r\n        }\r\n        if (this.platform.is('cordova')) {\r\n          this.browser = this.browser || this.iab.create(this.browserUrl, target, this.options);\r\n\r\n          // this.browser.on(\"loadstart\").subscribe(event => {\r\n          //   this.browser.executeScript({ code: \"alert('loadstart');\" });\r\n          // });\r\n\r\n          // this.browser.on(\"loadstop\").subscribe(event => {\r\n          //   this.browser.executeScript({ code: \"alert('loadstop');\" });\r\n          // });\r\n\r\n          this.browser.on(\"loaderror\").subscribe(event => {\r\n            this.ngZone.run(() => {\r\n              this.doDebug = true;\r\n              this.browser.hide();\r\n              // this.errors.push(event);\r\n              this.errors.push({key: 'browser loaderror event', error: event});\r\n            });\r\n          });\r\n\r\n          this.browser.on(\"exit\").subscribe(event => {\r\n            this.ngZone.run(() => {\r\n              // this.errors.push(event);\r\n              this.errors.push({key: 'browser exit event', error: event});\r\n\r\n              this.browser = null;\r\n            });\r\n          });\r\n\r\n          this.browser.on(\"loadstart\").subscribe(event => {\r\n            // this.ngZone.run(() => {\r\n            //   // this.browser.executeScript({ code: \"localStorage.setItem('nativeAppMode', 'moo');\" });\r\n            //   // this.browser.executeScript({code: 'window.my.activateAppMode.publicActivateAppModeFunc();'});\r\n\r\n            //   // this.clearBrowserLoop();\r\n\r\n            //   // this.loadstopEvents.push(event);\r\n            //   if (!this.browserLoopIsActive) {\r\n            //     this.browserLoopIsActive = true;\r\n            //     this.browserLoopFunction(100);\r\n            //   }\r\n            // });\r\n          });\r\n\r\n          this.browser.on(\"loadstop\").subscribe(event => {\r\n            this.doDebug && this.toast(\"loadstop worked\", \"bottom\");\r\n            this.ngZone.run(() => {\r\n              // this.splashScreen.hide();\r\n              // this.browser.show();\r\n\r\n              if (!this.browserLoopIsActive) {\r\n                this.browserLoopIsActive = true;\r\n                this.browserLoopFunction(100);\r\n              }\r\n            });\r\n            // this.browser.executeScript({\r\n            //   code: \"localStorage.setItem('nativeAppTime', '\" + this.getDateString() + \"');\"\r\n            // }, values => {\r\n            //   this.ngZone.run(() => {\r\n            //     var hideWebWrapper = values[0];\r\n\r\n            //     if (hideWebWrapper) {\r\n            //       this.browser.executeScript({ code: \"localStorage.setItem('hideWebApp', '');\" });\r\n            //       this.browser.hide();\r\n            //       this.ref.detectChanges();\r\n            //     }\r\n            //   });\r\n            // });\r\n          });\r\n        }\r\n      }\r\n  \t}\r\n\r\n    showBrowser() {\r\n      this.browser && this.browser.show();\r\n    }\r\n\r\n    browserLoopFunction(delay?: number) {\r\n      this.ngZone.run(() => {\r\n        this.doDebug && this.toast('browserLoopFunction');\r\n\r\n        this.browserLoopCount = (this.browserLoopCount || 0) + 1;\r\n\r\n        this.nativeTimestamp = this.getDateString();\r\n        return this.browserActivateNativeAppMode().then(values => {\r\n          // nothing\r\n        }).then(() => {\r\n          return this.browserLogoutOfNativeApp().then(values => {\r\n            // nothing\r\n          });\r\n        }).then(() => {\r\n          return this.browserGetFirebaseIdToken().then(values => {\r\n            // nothing\r\n          });\r\n        }).then(() => {\r\n          return this.browserSetNav().then(values => {\r\n            // nothing\r\n          });\r\n        }).then(() => {\r\n          return this.browserTest().then(values => {\r\n            if (values && values.length && values[0]) {\r\n              return this.browser.executeScript({\r\n                code: \"window.my && window.my.activateAppMode && window.my.activateAppMode.publicDebugFunc && window.my.activateAppMode.publicDebugFunc(\" + JSON.stringify({key: 'test2', value: this.getDateString() + ' test2' }) + \");\"\r\n              });\r\n            }\r\n          });\r\n        }).then(() => {\r\n          if (delay) {\r\n            this.browserLoopSetTimeout = setTimeout(() => {\r\n              this.ngZone.run(() => {\r\n                this.browserLoopFunction(delay);\r\n              });\r\n            }, delay);\r\n          }\r\n        }).catch(error => {\r\n          this.doDebug && this.toast('Unexpected error during browser loop');\r\n          // this.errors.push(error);\r\n          this.errors.push({key: 'browser loop error', error: error});\r\n\r\n          if (delay) {\r\n            this.browserLoopSetTimeout = setTimeout(() => {\r\n              this.ngZone.run(() => {\r\n                this.browserLoopFunction(delay);\r\n              });\r\n            }, delay);\r\n          }\r\n        });\r\n      });\r\n    }\r\n\r\n    clearBrowserLoop() {\r\n      if (this.browserLoopIsActive) {\r\n        this.browserLoopIsActive = false;\r\n        clearTimeout(this.browserLoopSetTimeout);\r\n      }\r\n    }\r\n\r\n    browserTest() {\r\n      if (this.doDebug && this.browser) {\r\n        return this.browser.executeScript({\r\n          code: \"window.my && window.my.activateAppMode && window.my.activateAppMode.publicDebugFunc && window.my.activateAppMode.publicDebugFunc(\" + JSON.stringify({key: 'test', value: this.getDateString() + ' test'}) + \");\"\r\n        }).then(values => {\r\n          this.webTimestamp = this.getDateString();\r\n          return values;\r\n        }).catch(error => {\r\n          // this.errors.push(error);\r\n          this.errors.push({key: 'browser test', error: error});\r\n          return null;\r\n        });\r\n      } else {\r\n        return Promise.resolve(null);\r\n      }\r\n    }\r\n\r\n    browserActivateNativeAppMode() {\r\n      this.doDebug && this.toast('browserActivateNativeAppMode');\r\n      if (this.browser && !this.nativeAppModeActivated) {\r\n        return this.browser.executeScript({\r\n          code: \"window.my && window.my.activateAppMode && window.my.activateAppMode.publicActivateAppModeFunc && window.my.activateAppMode.publicActivateAppModeFunc();\"\r\n        }).then(values => {\r\n          this.doDebug && this.toast(\"native app mode activated\");\r\n          this.nativeAppModeActivated = true;\r\n        }).catch(error => {\r\n          // this.errors.push(error);\r\n          this.errors.push({key: 'browser active native app mode', error: error});\r\n\r\n          return null;\r\n        });\r\n      } else {\r\n        return Promise.resolve(null);\r\n      }\r\n    }\r\n\r\n    browserLogoutOfNativeApp() {\r\n      if (this.browser && this.nativeAppModeActivated) {\r\n        return this.browser.executeScript({\r\n          code: \"localStorage.getItem('logoutOfNativeApp')\"\r\n        }).then(values => {\r\n          if (values && values.length && values[0]) {\r\n            return this.browser.executeScript({ code: \"localStorage.setItem('logoutOfNativeApp', '');\" }).then(() => {\r\n              this.users = [];\r\n              return this.setDeviceUserPairing().then(result => {\r\n                // handle firebaseSignOut here\r\n              }).then(() => {\r\n                return this.firebaseSignOut().then(result => {\r\n                  // handle firebaseSignOut here\r\n                });\r\n              }).then(() => {\r\n                if (this.doDebug) {\r\n                  return this.browser.executeScript({\r\n                    code: \"window.my && window.my.activateAppMode && window.my.activateAppMode.publicDebugFunc && window.my.activateAppMode.publicDebugFunc(\" + JSON.stringify({key: 'nativeAuthOut', value: this.getDateString() + ' native signed out at' }) + \");\"\r\n                  });\r\n                } else {\r\n                  return null;\r\n                }\r\n              });;\r\n            });\r\n          }\r\n        }).catch(error => {\r\n          // this.errors.push(error);\r\n          this.errors.push({key: 'browser log out', error: error});\r\n\r\n          return null;\r\n        });\r\n      } else {\r\n        return Promise.resolve(null);\r\n      }\r\n    }\r\n\r\n    browserGetFirebaseIdToken() {\r\n      function b64DecodeUnicode(str) {\r\n        // Going backwards: from bytestream, to percent-encoding, to original string.\r\n        return decodeURIComponent(atob(str).split('').map(function(c) {\r\n            return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\r\n        }).join(''));\r\n      }\r\n\r\n      if (this.browser && this.nativeAppModeActivated) {\r\n        return this.browser.executeScript({\r\n          code: \"localStorage.getItem('firebase_id_token_output')\"\r\n        }).then(values => {\r\n          var firebase_id_token = values && values.length && values[0];\r\n          if (firebase_id_token) {\r\n            if (this.loggingIn) {\r\n              return this.logUserOutOfBrowser();\r\n            } else {\r\n              // Parse the ID token.\r\n              const payload = JSON.parse(b64DecodeUnicode(firebase_id_token.split('.')[1]));\r\n\r\n              if (this.fbUser && this.fbUser.email && this.fbUser.email === payload.email) {\r\n                // The current user is the same user that just logged in, so no need to reauth\r\n                this.doDebug && this.toast(\"user was already logged in native\");\r\n              } else {\r\n                this.loggingIn = true;\r\n                // TODO: rewrite subscriptions to promises instead\r\n                var exchangeIDTokenForCustTokenSubscription = this.exchangeIDTokenForCustToken(firebase_id_token).subscribe(data => {\r\n                  this.ngZone.run(() => {\r\n                    this.signInWithCustomToken(data);\r\n                  });\r\n                }, error => {\r\n                  this.ngZone.run(() => {\r\n                    this.doDebug && this.toast(\"Error occurred when attempting to exchange firebase ID token for custom auth token.\");\r\n                    exchangeIDTokenForCustTokenSubscription.unsubscribe();\r\n                    this.loggingIn = false;\r\n                  });\r\n                }, () => {\r\n                  this.ngZone.run(() => {\r\n                    exchangeIDTokenForCustTokenSubscription.unsubscribe();\r\n                    this.loggingIn = false;\r\n                  });\r\n                });\r\n              }\r\n\r\n              return this.browser.executeScript({ code: \"localStorage.setItem('firebase_id_token_output', '');\" }).then(() => {\r\n                if (this.doDebug) {\r\n                  return this.browser.executeScript({\r\n                    code: \"window.my && window.my.activateAppMode && window.my.activateAppMode.publicDebugFunc && window.my.activateAppMode.publicDebugFunc(\" + JSON.stringify({key: 'nativeAuthIn', value: this.getDateString() + ' native signed in at'}) + \");\"\r\n                  });\r\n                } else {\r\n                  return null;\r\n                }\r\n              });\r\n            }\r\n          }\r\n        }).catch(error => {\r\n          // this.errors.push(error);\r\n          this.errors.push({key: 'get firebase id token', error: error});\r\n\r\n          return null;\r\n        });\r\n      } else {\r\n        return Promise.resolve(null);\r\n      }\r\n    }\r\n\r\n    browserSetNav() {\r\n      this.doDebug && this.toast('browserSetNav');\r\n      if (this.browser && this.webNav) {\r\n        return this.browser.executeScript({\r\n          code: \"window.my && window.my.activateAppMode && window.my.activateAppMode.publicWebNavFunc && window.my.activateAppMode.publicWebNavFunc(\" + JSON.stringify(this.webNav) + \");\"\r\n        }).then(values => {\r\n          if (this.webNav.navTye === 'post') {\r\n            if (this.webNav.postKey && this.webNav.groupKey) {\r\n              this.browserUrl = 'https://smpltalk.com/#/content/post/' + this.webNav.groupkey + '/' + this.webNav.postKey;\r\n            } else {\r\n              this.browserUrl = 'https://smpltalk.com/';\r\n            }\r\n          }\r\n          this.doDebug && this.toast(\"native app mode activated\");\r\n          this.webNav = null;\r\n        }).catch(error => {\r\n          // this.errors.push(error);\r\n          this.errors.push({key: 'browser set nav', error: error});\r\n\r\n          return null;\r\n        });\r\n      } else {\r\n        return Promise.resolve(null);\r\n      }\r\n    }\r\n\r\n    logUserOutOfBrowser() {\r\n      if (this.browser) {\r\n        return this.browser.executeScript({\r\n          code: \"localStorage.setItem('shouldLogout', 'moo');\"\r\n        }).then(() => {\r\n          if (this.doDebug) {\r\n            return this.browser.executeScript({\r\n              code: 'window.my && window.my.activateAppMode && window.my.activateAppMode.publicShouldLogoutFunc && window.my.activateAppMode.publicShouldLogoutFunc();'\r\n            });  \r\n          } else {\r\n            return null;\r\n          }\r\n        }).catch(error => {\r\n          // this.errors.push(error);\r\n          this.errors.push({key: 'log user out of browser', error: error});\r\n\r\n          return null;\r\n        });\r\n      } else {\r\n        return Promise.resolve(null);\r\n      }\r\n    }\r\n\r\n    exchangeIDTokenForCustToken(iDToken: any) {\r\n      var url = \"https://us-central1-ourg-2c585.cloudfunctions.net/g41-app/exchangeIDTokenForCustToken\";\r\n      let headers = new Headers();\r\n\r\n      headers.append('Authorization', 'Bearer ' + iDToken);\r\n\r\n      return this.http.get(url, {headers: headers}).map((res: Response) => res.text());\r\n    }\r\n\r\n    signInWithCustomToken(token: any) {\r\n      return firebase.auth().signInWithCustomToken(token).then(user => {\r\n        // console.log(\"User with user id: \" + user.uid + \" created/logged in.\");\r\n      }).catch(error => {\r\n        // Handle Errors here.\r\n        var errorMessage: string;\r\n\r\n        if (error.code) {\r\n          if (error.code === 'auth/custom-token-mismatch') {\r\n            errorMessage = \"Token is for a different App\";\r\n          } else if (error.code === 'auth/invalid-custom-token') {\r\n            errorMessage = \"Token format is incorrect\";\r\n          }\r\n        }\r\n\r\n        errorMessage = errorMessage || error.message || error;\r\n\r\n        // console.log(errorMessage);\r\n        this.loggingIn = false;\r\n        this.doDebug && this.toast(errorMessage);\r\n\r\n        // this.errors.push(error);\r\n          this.errors.push({key: 'use custom token', error: error});\r\n\r\n\r\n        return this.logUserOutOfBrowser();\r\n      });\r\n    }\r\n\r\n    firebaseSignOut() {\r\n      return firebase.auth().signOut().then(() => {\r\n      }, error => {\r\n        // this.errors.push(error);\r\n          this.errors.push({key: 'firebase sign out', error: error});\r\n      });\r\n    }\r\n\r\n    setupPush() {\r\n      this.doDebug && this.toast(\"setupPush\");\r\n      // source: https://www.youtube.com/watch?v=sUjQ3G17T80\r\n\r\n      // to check if we have permission\r\n      this.push.hasPermission().then((res: any) => {\r\n        if (res.isEnabled) {\r\n          this.doDebug && this.toast('We have permission to send push notifications');\r\n        } else {\r\n          this.doDebug && this.toast('We do not have permission to send push notifications');\r\n        }\r\n      }).catch(error => {\r\n        this.errors.push({key: 'setupPush', error: error});\r\n      });\r\n\r\n      // to initialize push notifications\r\n      // const options: PushOptions = {\r\n      const options: any = {\r\n         android: {\r\n           //senderID: XXXX\r\n           icon: 'ic_android_generated',\r\n           iconColor: '#1DAED9',\r\n           vibrate: 'true',\r\n           // clearBadge: 'true',\r\n           //clearNotifications: 'true',\r\n           //forceShow: 'true',\r\n           //messageKey: '',\r\n           //titleKey: '',\r\n           alert: 'true',\r\n           // badge: true,\r\n           sound: 'true'\r\n         },\r\n         ios: {\r\n             alert: 'true',\r\n             badge: true,\r\n             sound: 'true',\r\n             clearBadge: true\r\n         },\r\n         windows: {},\r\n         browser: {\r\n            pushServiceURL: 'http://push.api.phonegap.com/v1/push'\r\n         }\r\n      };\r\n      \r\n      const pushObject: PushObject = this.push.init(options);\r\n\r\n      pushObject.on('notification').subscribe((notification: any) => {\r\n        this.ngZone.run(() => {\r\n          this.doDebug && this.toast('Received a notification' + JSON.stringify(notification));\r\n          // foreground\r\n\r\n          // TODO: handle notification\r\n          if (notification.additionalData.foreground) {\r\n            \r\n          } else {\r\n            var navType = notification.additionalData.navType;\r\n            var postKey = notification.additionalData.postKey;\r\n            var groupKey = notification.additionalData.groupKey;\r\n            var networkKey = notification.additionalData.networkKey;\r\n\r\n            this.webNav = {navType: navType, postKey: postKey, groupKey: groupKey, networkKey: networkKey};\r\n            \r\n            this.doDebug && this.browser && this.browser.executeScript({\r\n              code: \"window.my && window.my.activateAppMode && window.my.activateAppMode.publicDebugFunc && window.my.activateAppMode.publicDebugFunc(\" + JSON.stringify({key: 'notification', value: notification}) + \");\"\r\n            });\r\n          }\r\n\r\n          //collapse_key  string  (optional)\r\n          //coldstart  boolean  (optional)\r\n          //from  string  (optional)\r\n          //notId\r\n        });\r\n      });\r\n\r\n      pushObject.on('registration').subscribe((registration: any) => {\r\n        this.ngZone.run(() => {\r\n          this.doDebug && this.toast('Device registered' + JSON.stringify(registration));\r\n\r\n          // TODO: Save deviceID to user's account\r\n          this.device = registration;\r\n\r\n          this.setDeviceUserPairing();\r\n        });\r\n      });\r\n\r\n      pushObject.on('error').subscribe(error => {\r\n        this.ngZone.run(() => {\r\n          this.doDebug && this.toast('Error with Push plugin' + JSON.stringify(error));\r\n          // TODO: log error\r\n          this.errors.push({key: 'push subscribe', error: error});\r\n        });\r\n      });\r\n    }\r\n\r\n    setDeviceUserPairing() {\r\n      if (!this.fbUser || !this.device || !this.device.registrationId) {\r\n        return Promise.resolve(null);\r\n      }\r\n\r\n      this.doDebug && this.toast(\"pair device and user\");\r\n      \r\n      var updates = {};\r\n\r\n      var pushUserPath = 'Users';\r\n      var pushDevicePath = 'Devices';\r\n\r\n      return firebase.database().ref('PushNotifications/Devices/' + this.device.registrationId + '/Users').once('value').then(userSnapshots => {\r\n        userSnapshots.forEach(userSnapshot => {\r\n          var match = false;\r\n\r\n          if (this.users) {\r\n            for (var i = 0; i < this.users.length; i++) {\r\n              if (this.users[i].key === userSnapshot.key) {\r\n                match = true;\r\n                break;\r\n              }\r\n            }\r\n          }\r\n\r\n          if (!match) {\r\n            // removeUserKeys.push(userSnapshot.key);\r\n            updates[pushUserPath + '/' + userSnapshot.key + '/Devices/' + this.device.registrationId] = null;\r\n            updates[pushDevicePath + '/' + this.device.registrationId + '/Users/' + userSnapshot.key] = null;\r\n          }\r\n        })\r\n      }).then(() => {\r\n        for (var i = 0; i < this.users.length; i++) {\r\n          var user = this.users[i];\r\n          var now = Date.now();\r\n\r\n          updates[pushUserPath + '/' + user.key + '/Devices/' + this.device.registrationId] = now;\r\n          updates[pushDevicePath + '/' + this.device.registrationId + '/Users/' + user.key] = now;\r\n        }\r\n\r\n        this.doDebug && this.toast(JSON.stringify(updates));\r\n        this.fbUpdates.push(updates);\r\n\r\n        return firebase.database().ref('PushNotifications/').update(updates).then(() => {\r\n          this.doDebug && this.toast(\"updated pushNotifications in database\");\r\n        }).catch(error => {\r\n          this.doDebug && this.toast(error);\r\n          this.errors.push({key: 'fb notifications update', error: error});\r\n        }).then(() => {\r\n          if (this.doDebug) {\r\n            return this.browser.executeScript({\r\n              code: \"window.my && window.my.activateAppMode && window.my.activateAppMode.publicDebugFunc && window.my.activateAppMode.publicDebugFunc(\" + JSON.stringify({key: 'setDeviceUserPairing', value: this.getDateString() + ' device user pairing'}) + \");\"\r\n            });\r\n          } else {\r\n            return null;\r\n          }\r\n        });\r\n      }).catch(error => {\r\n        this.doDebug && this.toast(error);\r\n        this.errors.push({key: 'push devices update', error: error});\r\n        return null;\r\n      });\r\n    }\r\n\r\n    toast(message: any, position?: string) {\r\n      // TODO: add messages to an array?\r\n      return;\r\n      // message = JSON.stringify(message);\r\n\r\n      // let toast = this.toastCtrl.create({\r\n      //   message: message,\r\n      //   duration: 3000,\r\n      //   position: position || 'top'\r\n      // });\r\n\r\n      // // toast.onDidDismiss(() => {\r\n      // //   console.log('Dismissed toast');\r\n      // // });\r\n\r\n      // toast.present();\r\n    }\r\n\r\n    getDateString(timestamp?: number) {\r\n      var u;\r\n\r\n      if (timestamp) {\r\n        u = new Date(timestamp);\r\n      } else {\r\n        u = new Date();\r\n      }\r\n\r\n      // source: https://stackoverflow.com/questions/19485353/function-to-convert-timestamp-to-human-date-in-javascript\r\n      // ex: 2016-04-30 08:36:26.000\r\n      return u.getUTCFullYear() +\r\n        '-' + ('0' + u.getUTCMonth()).slice(-2) +\r\n        '-' + ('0' + u.getUTCDate()).slice(-2) + \r\n        ' ' + ('0' + u.getUTCHours()).slice(-2) +\r\n        ':' + ('0' + u.getUTCMinutes()).slice(-2) +\r\n        ':' + ('0' + u.getUTCSeconds()).slice(-2) +\r\n        '.' + (u.getUTCMilliseconds() / 1000).toFixed(3).slice(2, 5);\r\n    }\r\n\r\n    // encodeKey(str: string) {\r\n  //  return str.replace(/\\_/g, '_U').replace(/\\./g, '_P').replace(/\\$/g, '_D').replace(/\\[/g, '_O').replace(/\\]/g, '_C').replace(/\\#/g, '_H').replace(/\\//g, '_S');\r\n  // }\r\n\r\n  // decodeKey(str: string) {\r\n  //  return str.replace(/\\_P/g, '.').replace(/\\_D/g, '$').replace(/\\_O/g, '[').replace(/\\_C/g, ']').replace(/\\_H/g, '#').replace(/\\_S/g, '/').replace(/\\_\\U/g, '_');\r\n  // }\r\n\r\n  encodeKey(str: string) {\r\n    return str.replace(/\\%/g, '%25').replace(/\\./g, '%2E').replace(/\\$/g, '%24').replace(/\\[/g, '%5B').replace(/\\]/g, '%5D').replace(/\\#/g, '%23').replace(/\\//g, '%2F');\r\n  }\r\n\r\n  decodeKey(str: string) {\r\n    return str.replace(/\\%2E/g, '.').replace(/\\%24/g, '$').replace(/\\%5B/g, '[').replace(/\\%5D/g, ']').replace(/\\%23/g, '#').replace(/\\%2F/g, '/').replace(/\\%25/g, '%');\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/smplTalk/smplTalk.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app.module';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\r\nimport { HttpModule } from '@angular/http';\r\nimport { ErrorHandler, NgModule } from '@angular/core';\r\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\r\n\r\nimport { MyApp } from './app.component';\r\nimport { SmplTalkPage } from '../pages/smplTalk/smplTalk';\r\n\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\n\r\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\r\n\r\n// import { Push, PushObject, PushOptions } from '@ionic-native/push';\r\nimport { Push } from '@ionic-native/push';\r\n\r\nimport firebase from 'firebase';\r\n// import * as firebase from 'firebase';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyDF1rX-QzDFUTYDvOp7Q-ZJMlY58eRCAPs\",\r\n    authDomain: \"ourg-2c585.firebaseapp.com\",\r\n    databaseURL: \"https://ourg-2c585.firebaseio.com\",\r\n    projectId: \"ourg-2c585\",\r\n    storageBucket: \"ourg-2c585.appspot.com\",\r\n    messagingSenderId: \"599715636396\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MyApp,\r\n    SmplTalkPage\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    HttpModule,\r\n    IonicModule.forRoot(MyApp),\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    MyApp,\r\n    SmplTalkPage\r\n  ],\r\n  providers: [\r\n    StatusBar,\r\n    SplashScreen,\r\n    InAppBrowser,\r\n    Push,\r\n    {provide: ErrorHandler, useClass: IonicErrorHandler}\r\n  ]\r\n})\r\nexport class AppModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, ViewChild } from '@angular/core';\r\nimport { Nav, Platform } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\n\r\nimport { SmplTalkPage } from '../pages/smplTalk/smplTalk';\r\n\r\nimport firebase from 'firebase';\r\n\r\n@Component({\r\n  templateUrl: 'app.html'\r\n})\r\nexport class MyApp {\r\n  @ViewChild(Nav) nav: Nav;\r\n\r\n  rootPage: any = SmplTalkPage;\r\n\r\n  pages: Array<{title: string, component: any}>;\r\n\r\n  unsubscribeOnAuthStateChanged: any;\r\n  user: any;\r\n\r\n  constructor(public platform: Platform, public statusBar: StatusBar, public splashScreen: SplashScreen) {\r\n    this.initializeApp();\r\n\r\n    this.pages = [\r\n      { title: 'Smpl Talk', component: SmplTalkPage }\r\n    ];\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  initializeApp() {\r\n    this.platform.ready().then(() => {\r\n      this.statusBar.styleDefault();\r\n    });\r\n  }\r\n\r\n  openPage(page) {\r\n    this.nav.setRoot(page.component);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts"],"sourceRoot":""}